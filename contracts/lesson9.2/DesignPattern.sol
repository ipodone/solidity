// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

// ！！！智能合约：一旦部署，无法修改 - 升级时，代理模式合约很重要 - 类似nginx代理吧（对用户来说无感，传新的合约地址，使代理合约的地址指向新的合约即可）

// 理解存储="写出高质量合约"
// 理解数组特性 = 避免致命错误
// 掌握组合模式 = 掌握数据设计精髓
// 掌握函数=掌握智能合约核心
// 在区块链上，每一行代码都关系到真金白银。安全永远是第一位的。
// 事件是连接智能合约与外部世界的桥梁
// 防御重点: 权限控制 + 输入验证 + 状态管理
// 模式组合应用 | 实际项目中的最佳实践

contract DesignPattern {
    // 设计模式 DesignPattern：6个核心设计模式
    // 一、访问控制模式：必要性与实现 - 主要用途：权限管理 - 适用场景：几乎所有合约
    // 二、提现模式：风险与安全方案 - 主要用途：安全转账 - 适用场景：涉及资金 - Pull Over Push 拉取模式（即用户主动提现）+CEI
    // 三、状态机模式：生命周期管理 - 主要用途：生命周期 - 适用场景：众筹、拍卖
    // ！！！四、代理模式：合约升级方案 - 主要用途：合约升级 - 适用场景：需要升级 - 分离合约的数据存储和业务逻辑，实现可升级性 - ！！！关键注意事项：存储布局必须兼容：代理和逻辑合约的存储变量布局必须兼容
    // 五、工厂模式：批量部署优化 - 主要用途：批量部署 - 适用场景：多实例 - 应用场景：Uniswap为每个交易对创建Pair合约 (如ETH/USDT)、NFT市场为每个系列创建独立合约
    // 六、紧急停止模式：风险控制 - 主要用途：风险控制 - 适用场景：金融合约
    // Circuit Breaker (断路器) 模式：提供一种在紧急情况下暂停合约操作的机制，防止进一步执行和潜在损失 - OpenZeppelin Pausable 实现 - 关键点：Circuit Breaker 是保护合约资产的重要机制，但应谨慎使用

    // 模式组合应用案例
    // 一、DeFi借贷协议
    // 二、NFT交易市场
    // 三、DAO治理系统

    // DO（推荐）：从简单开始，逐步增加复杂度
    // 持续学习：研究优秀项目，关注安全
    // 实践建议：在测试网充分测试、阅读OpenZeppelin源码、参与代码审查、学习真实漏洞案例
}